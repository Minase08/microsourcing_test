!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("react"),require("styled-components")):"function"==typeof define&&define.amd?define("MultiSelect",["React","styled-components"],n):"object"==typeof exports?exports.MultiSelect=n(require("react"),require("styled-components")):e.MultiSelect=n(e.React,e["styled-components"])}(window,function(e,n){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/build/",t(t.s=2)}([function(n,t){n.exports=e},function(e,t){e.exports=n},function(e,n,t){"use strict";function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){o(e,n,t[n])})}return e}t.r(n);var c=t(0),a=t.n(c);function l(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var u=t(1),s=t.n(u),f=function(e){var n=e.tag,t=e.keyEvents,r=e.children,o=e.className,c=e.otherProps;return a.a.createElement(n,i({className:o,onKeyDown:function(e){switch(e.keyCode){case 35:t.end&&t.end(e);break;case 36:t.home&&t.home(e);break;case 38:t.up&&t.up(e);break;case 40:t.down&&t.down(e);break;default:return}}},c),r)};function d(){var e=l(["\n  display: flex;\n  justify-content: space-between;\n"]);return d=function(){return e},e}function p(){var e=l(["\n  width: 0.75rem; /* 12px if base font-size is 16px */\n  margin-right: 0.625rem; /* 10px if base font-size is 16px */\n  vertical-align: baseline;\n"]);return p=function(){return e},e}function m(){var e=l(["\n  ","\n  padding-right: 0;\n"]);return m=function(){return e},e}function b(){var e=l(["\n  ","\n  margin-bottom: 10px;\n  padding-left: 0;\n"]);return b=function(){return e},e}function g(){var e=l(["\n  ","\n  height: 1.3em;\n  line-height: 1em;\n  color: #5e9ed6;\n  background-color: transparent;\n"]);return g=function(){return e},e}function h(){var e=l(["\n  display: block;\n  height: 40px;\n  padding: 0 0.625rem;\n  font-family: inherit;\n  line-height: 40px;\n  text-align: center;\n  color: #fff;\n  background-color: #000;\n  border: none;\n  border-radius: 0;\n  cursor: pointer;\n"]);return h=function(){return e},e}function x(){var e=l(["\n  max-height: ",";\n  margin: 0;\n  overflow: auto;\n  padding-left: 0;\n  list-style: none;\n"]);return x=function(){return e},e}function v(){var e=l(["\n  position: absolute;\n  right: ",";\n  min-width: 140px;\n  padding: 1.25rem; /* 20px if base font-size is 16px */\n  border: 1px #000 solid;\n"]);return v=function(){return e},e}function y(){var e=l(["\n  position: relative;\n  display: inline-block;\n"]);return y=function(){return e},e}var w=s()("div")(y()),k=s()("div")(v(),function(e){return e.isRightAligned?"0":"auto"}),O=s()(f)(x(),function(e){return"calc(100vh - ".concat("4.125rem"," - ").concat("2.625rem"," - ").concat("3.125rem"," - ").concat(e.hasFooter?"3.75rem":"0px",")")}),j=Object(u.css)(h()),E=Object(u.css)(g(),j),A=s()("button")(b(),E),S=s()("button")(m(),E),N=(Object(u.css)(p()),s()("div")(d()));function T(){var e=l(["\n  padding: 0.1875rem 0.5rem; /* 3px 8px if base font-size is 16px */\n  margin-left: 0.3125rem;\n  font-size: 0.85rem;\n  font-weight: normal;\n  line-height: 1;\n  color: #fff;\n  vertical-align: middle;\n  background-color: #000;\n  border-radius: 50%;\n"]);return T=function(){return e},e}var B=s()("span")(T()),P=function(e){var n=e.text,t=e.quantity;return a.a.createElement(a.a.Fragment,null,n," ",a.a.createElement(B,{className:"multiselect-badge"},t))};function C(){var e=l(["\n  height: 100%;\n  padding: 1.25rem; /* 20px if base font-size is 16px */\n  font-family: inherit;\n  font-size: 1rem;\n  cursor: pointer;\n  background-color: transparent;\n  border: 1px #000 solid;\n  border-bottom: 0;\n  box-shadow: 0 1px #000;\n\n  :after {\n    content: '';\n    display: inline-block;\n    margin-left: 10px;\n    padding: 3px;\n    border: solid black;\n    border-width: 0 3px 3px 0;\n    transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n  }\n\n  &&.is-opened {\n    :after {\n      transform: rotate(-135deg);\n      -webkit-transform: rotate(-135deg);\n    }\n  }\n"]);return C=function(){return e},e}var z=s()("button")(C()),I=function(e){var n=e.text,t=e.toggleDropdown,r=e.quantity,o=e.isOpened;return a.a.createElement(z,{className:o?"multiselect-button-dropdown is-opened":"multiselect-button-dropdown",onClick:t,"aria-haspopup":"true"},a.a.createElement(P,{className:"multiselect-badge",text:n,quantity:r}))},D=function(e){var n=e.selectAll,t=e.selectAllButtonText,r=e.resetSelections,o=e.resetButtonText;return a.a.createElement(N,null,a.a.createElement(A,{className:"multiselect-button-select-all",onClick:n},t),a.a.createElement(S,{className:"multiselect-reset-button",onClick:r},o))};D.defaultProps={selectAllButtonText:"Select All",resetButtonText:"Reset"};var q=D;function M(){var e=l(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0.625rem 0; /* 10px if base font-size is 16px */\n  margin: 1px;\n  line-height: 1;\n  white-space: nowrap;\n  cursor: pointer;\n\n  :focus {\n    outline: 1px solid #5e9ed6;\n  }\n\n  &.is-checked {\n    :after {\n      content: '';\n      display: block;\n      width: 5px;\n      height: 10px;\n      margin-right: 3px;\n      border: solid #000;\n      border-width: 0 3px 3px 0;\n      transform: rotate(45deg);\n    }\n  }\n"]);return M=function(){return e},e}function R(){var e=l(["\n  visibility: hidden;\n"]);return R=function(){return e},e}function _(){var e=l(["\n  :hover {\n    background-color: #f0f0f0;\n  }\n"]);return _=function(){return e},e}var F=s()("li")(_()),L=s()("input")(R()),K=s()("label")(M()),G=a.a.forwardRef(function(e,n){var t=e.label,r=e.name,o=e.id,i=e.handleInputChange,c=e.checked;return a.a.createElement(F,{className:"multiselect-list-item",role:"option"},a.a.createElement(K,{role:"checkbox","aria-checked":c,tabIndex:"0",htmlFor:o,onKeyPress:i,ref:n,className:c?"multiselect-list-item-label is-checked":"multiselect-list-item-label"},t,a.a.createElement(L,{className:"multiselect-list-item-checkbox",type:"checkbox",name:r,id:o,onChange:i,checked:c})))});function H(){var e=l(["\n  ","\n"]);return H=function(){return e},e}function J(){var e=l(["\n  display: flex;\n  flex-direction: row-reverse;\n  padding-top: 1.25rem; /* 20px if base font-size is 16px */\n  border-top: 1px #ccc solid;\n"]);return J=function(){return e},e}var Q=s()("div")(J()),U=s()("button")(H(),j),V=function(e){var n=e.applyButtonText,t=void 0===n?"Apply":n,r=e.handleApplyClick;return a.a.createElement(Q,null,a.a.createElement(U,{className:"multiselect-apply-button",onClick:r},t))};function W(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(t.push(c.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var X=function(e){var n=e.list,t=W(Object(c.useState)(!1),2),r=t[0],a=t[1],l=W(Object(c.useState)(n.reduce(function(e,n){return e[n.id]=n.checked,e},{})),2),u=l[0],s=l[1];return{isDropdownOpened:r,checkedItems:u,toggleDropdown:function(){a(!r)},selectAll:function(){s(Object.keys(u).reduce(function(e,n){return e[n]=!0,e},{}))},resetSelections:function(){s(Object.keys(u).reduce(function(e,n){return e[n]=!1,e},{}))},handleInputChange:function(e){var n=e.target.tagName,t="LABEL"===n?e.target.children[0]:e.target;"LABEL"===n&&(t.checked=!t.checked,e.preventDefault());var r=t.id,c=t.checked;s(i({},u,o({},r,c)))}}},Y=function(e){var n=e.list,t=e.dropdownButtonText,o=e.isRightAligned,l=e.selectAllButtonText,u=e.onOptionChanged,s=e.onSelectionApplied,f=e.resetButtonText,d=e.applyButtonText,p=X({list:n}),m=p.isDropdownOpened,b=p.checkedItems,g=p.toggleDropdown,h=p.selectAll,x=p.resetSelections,v=p.handleInputChange,y=[],j={up:function(){var e=y.findIndex(function(e){return e===document.activeElement});y[e-1]&&y[e-1].focus()},down:function(){var e=y.findIndex(function(e){return e===document.activeElement});y[e+1]&&y[e+1].focus()},home:function(){y[0].focus()},end:function(){y[y.length-1].focus()}},E=Object.keys(b).filter(function(e){return b[e]}).length;Object(c.useEffect)(function(){m&&y[0].focus()},[m]),Object(c.useEffect)(function(){u&&u(b)},[b]);return a.a.createElement(w,{className:"multiselect-button-dropdown-wrapper"},a.a.createElement(I,{className:"multiselect-button-dropdown",text:t,quantity:E,toggleDropdown:g,isOpened:m}),m&&a.a.createElement(k,r({},o?{isRightAligned:o}:{},{className:"multiselect-section-wrapper"}),a.a.createElement(q,{selectAll:h,selectAllButtonText:l,resetSelections:x,resetButtonText:f}),a.a.createElement(O,{role:"listbox",tag:"ul",hasFooter:!!s,className:"multiselect-list",keyEvents:i({},j)},n.map(function(e,n){var t=e.label,r=e.id,o=e.name,i=b[r],c="".concat(r,"-").concat(n);return a.a.createElement(G,{className:"multiselect-list-item",label:t,key:c,id:r,name:o,handleInputChange:v,checked:i,ref:function(e){return y[n]=e,e}})})),s&&a.a.createElement(V,{applyButtonText:d,handleApplyClick:function(){s(b)}})))};n.default=Y}])});